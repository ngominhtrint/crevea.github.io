{"status":"ok","feed":{"url":"https://medium.com/feed/@ngominhtri55","title":"Stories by Ngo Minh Tri on Medium","link":"https://medium.com/@ngominhtri55?source=rss-d848f27a4265------2","author":"","description":"Stories by Ngo Minh Tri on Medium","image":"https://cdn-images-1.medium.com/fit/c/150/150/1*a5YDUXMayCbySzLy6wWv0Q.jpeg"},"items":[{"title":"The closest equivalent to Python\u2019s any()/all() methods in Swift","pubDate":"2022-07-12 13:18:00","link":"https://ngominhtri55.medium.com/the-closest-equivalent-to-pythons-any-all-methods-in-swift-713a05a7495a?source=rss-d848f27a4265------2","guid":"https://medium.com/p/713a05a7495a","author":"Ngo Minh Tri","thumbnail":"https://cdn-images-1.medium.com/max/1024/1*eO7t98oG8ILdUK17bDifOA.jpeg","description":"\n<p>The article not only points out the equivalent methods, but also shares how to implement the similar methods in\u00a0Swift.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*eO7t98oG8ILdUK17bDifOA.jpeg\"></figure><h3>any(), all() methods in\u00a0Python</h3>\n<p>By exploring Python, I found there are two interesting methods: any(),\u00a0all().</p>\n<p>The <strong>any()</strong> method returns True if any item in the iteration are true, otherwise it returns False. If the iteration object is empty, the any() method will return\u00a0False.</p>\n<a href=\"https://medium.com/media/695b942b9bd2f56ef01c6d53f4d6c898/href\">https://medium.com/media/695b942b9bd2f56ef01c6d53f4d6c898/href</a><p>The all() function returns True if all items in an iteration are true, otherwise it returns False. If the iteration object is empty, the all() function also returns\u00a0True.</p>\n<a href=\"https://medium.com/media/576af6388af992a31e4a1090313f329b/href\">https://medium.com/media/576af6388af992a31e4a1090313f329b/href</a><p>Before we move forward, I would like to share the object that we are going to use as an example in the next part. Let\u2019s create a protocol: Minionable. The protocol has a color attribute. We create two structs: YellowMinion and PurpleMinion. Both structs conform to the Minionable protocol and inherit its color attribute as default. Let\u2019s set UIColor.yellow for YellowMinion and UIColor.purple for PurpleMinion.</p>\n<a href=\"https://medium.com/media/c39c7e048d39e1e495fa323c3fd2da97/href\">https://medium.com/media/c39c7e048d39e1e495fa323c3fd2da97/href</a><p>Then, I create two\u00a0arrays:</p>\n<a href=\"https://medium.com/media/427b4393c1fdfd8557bcef5bda91904e/href\">https://medium.com/media/427b4393c1fdfd8557bcef5bda91904e/href</a><h3>Equivalent methods in\u00a0Swift</h3>\n<p>With the same idea, we also have two equivalent methods in Swift language:</p>\n<p>The<strong> contains()</strong> returns a Boolean value indicating whether the sequence contains the given element. true if the sequence contains an element that satisfies predicate; otherwise, false.</p>\n<a href=\"https://medium.com/media/a1fd73c867633b3c0b735516799b1fcb/href\">https://medium.com/media/a1fd73c867633b3c0b735516799b1fcb/href</a><p>The <strong>allSatisfy()</strong> returns a Boolean value indicating whether every element of a sequence satisfies a given predicate. true if the sequence contains only elements that satisfy predicate; otherwise, false.</p>\n<a href=\"https://medium.com/media/4b93af9037fa4e13512897d2298e28da/href\">https://medium.com/media/4b93af9037fa4e13512897d2298e28da/href</a><blockquote>\n<strong>Predicate:</strong> A closure that takes an element of the sequence as its argument and returns a Boolean value that indicates whether the passed element satisfies a condition.\u200a\u2014\u200aApple documentation</blockquote>\n<h3>Advanced idea</h3>\n<p>Actually, we are able to create the <strong>any()</strong> and <strong>all()</strong> methods in\u00a0Swift.</p>\n<a href=\"https://medium.com/media/e91361524ac2b644ca8b94599f3feccd/href\">https://medium.com/media/e91361524ac2b644ca8b94599f3feccd/href</a><p>Let apply to the\u00a0minions!</p>\n<p><strong>any()</strong></p>\n<a href=\"https://medium.com/media/d555ba3fae742cec4878fa0cf5e81b83/href\">https://medium.com/media/d555ba3fae742cec4878fa0cf5e81b83/href</a><p><strong>all()</strong></p>\n<a href=\"https://medium.com/media/f987249225c87ee43987c3ea030380d3/href\">https://medium.com/media/f987249225c87ee43987c3ea030380d3/href</a><p>Ba-ba-ba-ba-ba-nana \ud83d\ude4c. The outputs are\u00a0similar.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/480/1*C37OEcWatNMaeJl7gGjhZw.gif\"></figure><p>Hope you enjoy. Thanks for reading! Please give me claps and share if you find interested \ud83d\udc4f.</p>\n<img src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=713a05a7495a\" width=\"1\" height=\"1\" alt=\"\">\n","content":"\n<p>The article not only points out the equivalent methods, but also shares how to implement the similar methods in\u00a0Swift.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*eO7t98oG8ILdUK17bDifOA.jpeg\"></figure><h3>any(), all() methods in\u00a0Python</h3>\n<p>By exploring Python, I found there are two interesting methods: any(),\u00a0all().</p>\n<p>The <strong>any()</strong> method returns True if any item in the iteration are true, otherwise it returns False. If the iteration object is empty, the any() method will return\u00a0False.</p>\n<a href=\"https://medium.com/media/695b942b9bd2f56ef01c6d53f4d6c898/href\">https://medium.com/media/695b942b9bd2f56ef01c6d53f4d6c898/href</a><p>The all() function returns True if all items in an iteration are true, otherwise it returns False. If the iteration object is empty, the all() function also returns\u00a0True.</p>\n<a href=\"https://medium.com/media/576af6388af992a31e4a1090313f329b/href\">https://medium.com/media/576af6388af992a31e4a1090313f329b/href</a><p>Before we move forward, I would like to share the object that we are going to use as an example in the next part. Let\u2019s create a protocol: Minionable. The protocol has a color attribute. We create two structs: YellowMinion and PurpleMinion. Both structs conform to the Minionable protocol and inherit its color attribute as default. Let\u2019s set UIColor.yellow for YellowMinion and UIColor.purple for PurpleMinion.</p>\n<a href=\"https://medium.com/media/c39c7e048d39e1e495fa323c3fd2da97/href\">https://medium.com/media/c39c7e048d39e1e495fa323c3fd2da97/href</a><p>Then, I create two\u00a0arrays:</p>\n<a href=\"https://medium.com/media/427b4393c1fdfd8557bcef5bda91904e/href\">https://medium.com/media/427b4393c1fdfd8557bcef5bda91904e/href</a><h3>Equivalent methods in\u00a0Swift</h3>\n<p>With the same idea, we also have two equivalent methods in Swift language:</p>\n<p>The<strong> contains()</strong> returns a Boolean value indicating whether the sequence contains the given element. true if the sequence contains an element that satisfies predicate; otherwise, false.</p>\n<a href=\"https://medium.com/media/a1fd73c867633b3c0b735516799b1fcb/href\">https://medium.com/media/a1fd73c867633b3c0b735516799b1fcb/href</a><p>The <strong>allSatisfy()</strong> returns a Boolean value indicating whether every element of a sequence satisfies a given predicate. true if the sequence contains only elements that satisfy predicate; otherwise, false.</p>\n<a href=\"https://medium.com/media/4b93af9037fa4e13512897d2298e28da/href\">https://medium.com/media/4b93af9037fa4e13512897d2298e28da/href</a><blockquote>\n<strong>Predicate:</strong> A closure that takes an element of the sequence as its argument and returns a Boolean value that indicates whether the passed element satisfies a condition.\u200a\u2014\u200aApple documentation</blockquote>\n<h3>Advanced idea</h3>\n<p>Actually, we are able to create the <strong>any()</strong> and <strong>all()</strong> methods in\u00a0Swift.</p>\n<a href=\"https://medium.com/media/e91361524ac2b644ca8b94599f3feccd/href\">https://medium.com/media/e91361524ac2b644ca8b94599f3feccd/href</a><p>Let apply to the\u00a0minions!</p>\n<p><strong>any()</strong></p>\n<a href=\"https://medium.com/media/d555ba3fae742cec4878fa0cf5e81b83/href\">https://medium.com/media/d555ba3fae742cec4878fa0cf5e81b83/href</a><p><strong>all()</strong></p>\n<a href=\"https://medium.com/media/f987249225c87ee43987c3ea030380d3/href\">https://medium.com/media/f987249225c87ee43987c3ea030380d3/href</a><p>Ba-ba-ba-ba-ba-nana \ud83d\ude4c. The outputs are\u00a0similar.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/480/1*C37OEcWatNMaeJl7gGjhZw.gif\"></figure><p>Hope you enjoy. Thanks for reading! Please give me claps and share if you find interested \ud83d\udc4f.</p>\n<img src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=713a05a7495a\" width=\"1\" height=\"1\" alt=\"\">\n","enclosure":{},"categories":["swift","python","ios"]},{"title":"Multiple git local repositories for switching context efficiently","pubDate":"2022-02-25 04:26:00","link":"https://ngominhtri55.medium.com/multiple-git-local-repositories-for-switching-context-efficiently-5871ad466a2f?source=rss-d848f27a4265------2","guid":"https://medium.com/p/5871ad466a2f","author":"Ngo Minh Tri","thumbnail":"https://cdn-images-1.medium.com/max/800/1*_VNznivGG__3_CgDZ3nvAg.png","description":"\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/800/1*_VNznivGG__3_CgDZ3nvAg.png\"><figcaption>Photo by Pawel Olek on dribbble.com</figcaption></figure><p>Hi folks, the idea could be applied to any software project you are working on. However, the article is written from an iOS engineer\u2019s point of view; the definitions and examples will be shown in iOS programming.</p>\n<h3><strong>\ud83e\udd2a Problem</strong></h3>\n<p>While implementing a feature ticket, have you ever got disturbed by another priority issue? Did you use git stash to save the current changes and switch to another git\u00a0branch?</p>\n<p>Unfortunately, the branch that you switch just now needs to run pod install or carthage update to resolve dependencies, and the more libraries you use, the longer it\u00a0takes.</p>\n<h3><strong>\ud83d\udca1Solution</strong></h3>\n<p>To solve it, I use multiple local repositories:</p>\n<p><strong>Step 1:</strong> I create two different local repositories by cloning from a single\u00a0origin:</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*OZhQ6C7skSgMtbtLMh3Ndw.png\"></figure><p><strong>Step 2:</strong> Setup the terminal with two different colors. Using <em>zsh</em>, right-click on the tab, and I can change the tab color. If you noticed, I put the empty tab in between to avoid tab selection mistakes. Yay, we\u2019re all\u00a0human!</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*fEpjr_EvmkPtj5F3L2WhRA.png\"></figure><p><strong>Step 3:</strong> Mark Finder folder with two different color to prevent confusing yourself. Right-click on the folder, then select the colors matching the <em>zsh</em> terminal tab colors\u00a0above.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*y327xH1B95Kr0SIKAieW6Q.png\"></figure><h3>\ud83c\udf89 Conclusion</h3>\n<p>By doing three simple steps above, switching context is easier than\u00a0ever:</p>\n<ul>\n<li>It saves time on update dependencies.</li>\n<li>It saves time on cleaning/building/re-indexing Xcode workspace. Now, we have multiple independent workspaces.</li>\n<li>It reduces git stash\u00a0command.</li>\n</ul>\n<p>On the other hand, we should consider\u00a0wisely:</p>\n<ul>\n<li>The laptop storage capability.</li>\n<li>Confident in git command for pull/push via\u00a0origin.</li>\n</ul>\n<p>Thank you for reading. Please clap if you found it helpful\u00a0\ud83d\udc4f</p>\n<img src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=5871ad466a2f\" width=\"1\" height=\"1\" alt=\"\">\n","content":"\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/800/1*_VNznivGG__3_CgDZ3nvAg.png\"><figcaption>Photo by Pawel Olek on dribbble.com</figcaption></figure><p>Hi folks, the idea could be applied to any software project you are working on. However, the article is written from an iOS engineer\u2019s point of view; the definitions and examples will be shown in iOS programming.</p>\n<h3><strong>\ud83e\udd2a Problem</strong></h3>\n<p>While implementing a feature ticket, have you ever got disturbed by another priority issue? Did you use git stash to save the current changes and switch to another git\u00a0branch?</p>\n<p>Unfortunately, the branch that you switch just now needs to run pod install or carthage update to resolve dependencies, and the more libraries you use, the longer it\u00a0takes.</p>\n<h3><strong>\ud83d\udca1Solution</strong></h3>\n<p>To solve it, I use multiple local repositories:</p>\n<p><strong>Step 1:</strong> I create two different local repositories by cloning from a single\u00a0origin:</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*OZhQ6C7skSgMtbtLMh3Ndw.png\"></figure><p><strong>Step 2:</strong> Setup the terminal with two different colors. Using <em>zsh</em>, right-click on the tab, and I can change the tab color. If you noticed, I put the empty tab in between to avoid tab selection mistakes. Yay, we\u2019re all\u00a0human!</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*fEpjr_EvmkPtj5F3L2WhRA.png\"></figure><p><strong>Step 3:</strong> Mark Finder folder with two different color to prevent confusing yourself. Right-click on the folder, then select the colors matching the <em>zsh</em> terminal tab colors\u00a0above.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*y327xH1B95Kr0SIKAieW6Q.png\"></figure><h3>\ud83c\udf89 Conclusion</h3>\n<p>By doing three simple steps above, switching context is easier than\u00a0ever:</p>\n<ul>\n<li>It saves time on update dependencies.</li>\n<li>It saves time on cleaning/building/re-indexing Xcode workspace. Now, we have multiple independent workspaces.</li>\n<li>It reduces git stash\u00a0command.</li>\n</ul>\n<p>On the other hand, we should consider\u00a0wisely:</p>\n<ul>\n<li>The laptop storage capability.</li>\n<li>Confident in git command for pull/push via\u00a0origin.</li>\n</ul>\n<p>Thank you for reading. Please clap if you found it helpful\u00a0\ud83d\udc4f</p>\n<img src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=5871ad466a2f\" width=\"1\" height=\"1\" alt=\"\">\n","enclosure":{},"categories":["git","software-development","programming","ios"]},{"title":"iOS: Indent first line of UILabel for a custom view","pubDate":"2021-09-25 16:51:26","link":"https://ngominhtri55.medium.com/ios-indent-first-line-of-uilabel-for-a-custom-view-152e60382d00?source=rss-d848f27a4265------2","guid":"https://medium.com/p/152e60382d00","author":"Ngo Minh Tri","thumbnail":"https://cdn-images-1.medium.com/max/1024/1*TtWq9aoAMS8aCsntH5VfdA.png","description":"\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*TtWq9aoAMS8aCsntH5VfdA.png\"></figure><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*eChtH8_xLrOWuwPKe8Wb3Q.png\"></figure><p>If you notice, the orange promotion message has two lines of text not aligned to the left. In front of the promotion\u2019s first line, there is a crown icon. To implement that, we can use NSTextAttachment to attach an image inline of\u00a0text.</p>\n<a href=\"https://medium.com/media/3794a3b24a68ce6d919c2a6b0fedcbcf/href\">https://medium.com/media/3794a3b24a68ce6d919c2a6b0fedcbcf/href</a><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/682/1*pIqSR0qHAPHiuG8f5x-5eQ.jpeg\"></figure><p>It is the same with the promotion message; the movie name has two lines of text not aligned to the left. In front of the movie name\u2019s first line, a bit difference is a custom view, not an image. I can\u2019t use NSTextAttachment anymore unless I create a custom view, convert it to UIImage, and reuse the above code. But this idea is not good in performance and scalability.</p>\n<p>After few rounds of searching, I found firstLineHeadIndent might be helpful. The custom view will anchor to the top-left of the movie name; then, the indent will be equal to the width of the custom\u00a0view.</p>\n<p><strong>1.</strong> First, I create a custom view TagView with <strong><em>title</em></strong> and <strong><em>color</em></strong> as require properties.</p>\n<a href=\"https://medium.com/media/10039fcf990bdd35b4ac1133b64840bf/href\">https://medium.com/media/10039fcf990bdd35b4ac1133b64840bf/href</a><p><strong>2.</strong> Staying inside TagView, I create another property to return an actual width based on the text length using intrinsicContentSize.width. Please take note of this property which I am going to use for firstLineHeadIndent later\u00a0on.</p>\n<a href=\"https://medium.com/media/647ed4f20874fd96d32066749b94a2b2/href\">https://medium.com/media/647ed4f20874fd96d32066749b94a2b2/href</a><p><strong>3.</strong> Moving to the ViewController, I create two <strong><em>popular</em></strong> &amp; <strong><em>new</em></strong> tag views and a stack view as a container of multiple\u00a0tags.</p>\n<a href=\"https://medium.com/media/fdc50e9042e88fbac86ef3f8d54ecdda/href\">https://medium.com/media/fdc50e9042e88fbac86ef3f8d54ecdda/href</a><p><strong>4.</strong> I add <strong><em>popular</em></strong> &amp; <strong><em>new</em></strong> tag subviews into the container stack view. By auto layout, I anchor the tagStackView to the top-left of movieNameLabel.</p>\n<a href=\"https://medium.com/media/7dff9d2ff6ca0aadb96e695cb7a1aab9/href\">https://medium.com/media/7dff9d2ff6ca0aadb96e695cb7a1aab9/href</a><p><strong>5.</strong> This is the most important step; let calculate how much the first line indent will\u00a0be.</p>\n<ul>\n<li>Map all stack subviews to TagView instance.</li>\n<li>Map each of TagView to their width, which I already implemented.</li>\n<li>Sum all the TagView width together with the spacing. Tada\u00a0\ud83c\udf89</li>\n</ul>\n<a href=\"https://medium.com/media/7f765a9c5623ca7411b30ca4b8041bc0/href\">https://medium.com/media/7f765a9c5623ca7411b30ca4b8041bc0/href</a><p><strong>6.</strong> Finally, I have the TagView width. I use that value for firstLineHeadIndent</p>\n<a href=\"https://medium.com/media/80b8c4059fb509bfdc412d326ee10b5a/href\">https://medium.com/media/80b8c4059fb509bfdc412d326ee10b5a/href</a><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*_uaIGQpUzzGZ5vIME-8hxw.png\"></figure><p>As you observe, the <strong><em>popular</em></strong> &amp; <strong><em>new</em></strong> tags are in different layers with the movie name, and it overlaps the movie name rectangle frame. However, the <strong><em>crown </em></strong>\ud83d\udc51 is in the same layer as promotion message.</p>\n<p>If you have a better idea, please share it. I am happy to\u00a0study.</p>\n<p>Thanks for reading, and happy\u00a0coding!</p>\n<img src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=152e60382d00\" width=\"1\" height=\"1\" alt=\"\">\n","content":"\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*TtWq9aoAMS8aCsntH5VfdA.png\"></figure><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*eChtH8_xLrOWuwPKe8Wb3Q.png\"></figure><p>If you notice, the orange promotion message has two lines of text not aligned to the left. In front of the promotion\u2019s first line, there is a crown icon. To implement that, we can use NSTextAttachment to attach an image inline of\u00a0text.</p>\n<a href=\"https://medium.com/media/3794a3b24a68ce6d919c2a6b0fedcbcf/href\">https://medium.com/media/3794a3b24a68ce6d919c2a6b0fedcbcf/href</a><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/682/1*pIqSR0qHAPHiuG8f5x-5eQ.jpeg\"></figure><p>It is the same with the promotion message; the movie name has two lines of text not aligned to the left. In front of the movie name\u2019s first line, a bit difference is a custom view, not an image. I can\u2019t use NSTextAttachment anymore unless I create a custom view, convert it to UIImage, and reuse the above code. But this idea is not good in performance and scalability.</p>\n<p>After few rounds of searching, I found firstLineHeadIndent might be helpful. The custom view will anchor to the top-left of the movie name; then, the indent will be equal to the width of the custom\u00a0view.</p>\n<p><strong>1.</strong> First, I create a custom view TagView with <strong><em>title</em></strong> and <strong><em>color</em></strong> as require properties.</p>\n<a href=\"https://medium.com/media/10039fcf990bdd35b4ac1133b64840bf/href\">https://medium.com/media/10039fcf990bdd35b4ac1133b64840bf/href</a><p><strong>2.</strong> Staying inside TagView, I create another property to return an actual width based on the text length using intrinsicContentSize.width. Please take note of this property which I am going to use for firstLineHeadIndent later\u00a0on.</p>\n<a href=\"https://medium.com/media/647ed4f20874fd96d32066749b94a2b2/href\">https://medium.com/media/647ed4f20874fd96d32066749b94a2b2/href</a><p><strong>3.</strong> Moving to the ViewController, I create two <strong><em>popular</em></strong> &amp; <strong><em>new</em></strong> tag views and a stack view as a container of multiple\u00a0tags.</p>\n<a href=\"https://medium.com/media/fdc50e9042e88fbac86ef3f8d54ecdda/href\">https://medium.com/media/fdc50e9042e88fbac86ef3f8d54ecdda/href</a><p><strong>4.</strong> I add <strong><em>popular</em></strong> &amp; <strong><em>new</em></strong> tag subviews into the container stack view. By auto layout, I anchor the tagStackView to the top-left of movieNameLabel.</p>\n<a href=\"https://medium.com/media/7dff9d2ff6ca0aadb96e695cb7a1aab9/href\">https://medium.com/media/7dff9d2ff6ca0aadb96e695cb7a1aab9/href</a><p><strong>5.</strong> This is the most important step; let calculate how much the first line indent will\u00a0be.</p>\n<ul>\n<li>Map all stack subviews to TagView instance.</li>\n<li>Map each of TagView to their width, which I already implemented.</li>\n<li>Sum all the TagView width together with the spacing. Tada\u00a0\ud83c\udf89</li>\n</ul>\n<a href=\"https://medium.com/media/7f765a9c5623ca7411b30ca4b8041bc0/href\">https://medium.com/media/7f765a9c5623ca7411b30ca4b8041bc0/href</a><p><strong>6.</strong> Finally, I have the TagView width. I use that value for firstLineHeadIndent</p>\n<a href=\"https://medium.com/media/80b8c4059fb509bfdc412d326ee10b5a/href\">https://medium.com/media/80b8c4059fb509bfdc412d326ee10b5a/href</a><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*_uaIGQpUzzGZ5vIME-8hxw.png\"></figure><p>As you observe, the <strong><em>popular</em></strong> &amp; <strong><em>new</em></strong> tags are in different layers with the movie name, and it overlaps the movie name rectangle frame. However, the <strong><em>crown </em></strong>\ud83d\udc51 is in the same layer as promotion message.</p>\n<p>If you have a better idea, please share it. I am happy to\u00a0study.</p>\n<p>Thanks for reading, and happy\u00a0coding!</p>\n<img src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=152e60382d00\" width=\"1\" height=\"1\" alt=\"\">\n","enclosure":{},"categories":["swift","views","ios","line","custom"]},{"title":"iOS: Code review practices","pubDate":"2021-05-12 09:24:02","link":"https://medium.com/ne-digital/ios-code-review-practices-88a152adcc9f?source=rss-d848f27a4265------2","guid":"https://medium.com/p/88a152adcc9f","author":"Ngo Minh Tri","thumbnail":"https://cdn-images-1.medium.com/max/1024/1*uTy1EUq4kDO8yeXXKn7DCw.jpeg","description":"\n<p>I am pleased to share a list of concerns we should care about when doing a code review in iOS. Hope it gives you a direct approach and is helpful in software development.</p>\n<figure><img alt=\"By Markus Winkler from unsplash.com\" src=\"https://cdn-images-1.medium.com/max/1024/1*uTy1EUq4kDO8yeXXKn7DCw.jpeg\"><figcaption>Photo by Markus Winkler on unsplash.com</figcaption></figure><p>As software engineers, we create pull requests and process code review daily. But sometimes because of workload, meeting or deadline we didn\u2019t review code properly.</p>\n<p>Have you\u00a0ever\u2026</p>\n<ul>\n<li>Felt upset because no one reviewed your pull\u00a0request?</li>\n<li>Felt frustrated because reviewers require to polish every tiny piece of a change list before granting approval?</li>\n<li>Felt lazy while seeing a big pull request of your colleagues that need you to\u00a0review?</li>\n<li>Approved a pull request automatically without reading complex\u00a0changes?</li>\n</ul>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/508/1*bly1xqj_P4RudQSNEdsdjQ.jpeg\"></figure><p>Some useful abbreviations in this\u00a0article:</p>\n<ul>\n<li>Change List:\u00a0CL</li>\n<li>Continuous Integration: CI</li>\n<li>Pull Request:\u00a0PR</li>\n<li>User Interface: UI</li>\n</ul>\n<p>According to <a href=\"https://google.github.io/eng-practices/review/\">Google\u2019s Engineering Practices</a>, we have a list that code review should look\u00a0at:</p>\n<ul>\n<li>\n<strong>Design</strong>: Is the code well-designed and appropriate for your\u00a0system?</li>\n<li>\n<strong>Functionality</strong>: Does the code behave as the author likely intended? Is the way the code behaves good for its\u00a0users?</li>\n<li>\n<strong>Complexity</strong>: Could the code be made simpler? Would another developer be able to easily understand and use this code when they come across it in the\u00a0future?</li>\n<li>\n<strong>Tests</strong>: Does the code have correct and well-designed automated tests?</li>\n<li>\n<strong>Naming</strong>: Did the developer choose clear names for variables, classes, methods,\u00a0etc.?</li>\n<li>\n<strong>Comments</strong>: Are the comments clear and\u00a0useful?</li>\n<li>\n<strong>Style</strong>: Does the code follow our style\u00a0guide?</li>\n<li>\n<strong>Documentation</strong>: Did the developer also update relevant documentation?</li>\n</ul>\n<h3>Code review time spending vs appreciate level\u00a0\ud83d\ude0a</h3>\n<p>By collecting from the internet and my own experience, I would like to share some practices of the code review process in developing software products. I try to list code review steps based on how much time we have for reviewing code.</p>\n<h3>If you\u00a0have</h3>\n<p><strong>5 minutes\u00a0\ud83d\udc4d</strong></p>\n<ul>\n<li>Check CI build report if it has any errors or failed test\u00a0cases?</li>\n<li>Check SonarCloud (if available) scan report if it has any code smells, duplications, enough unit test coverage?</li>\n<li>Unused code, comment code should be\u00a0removed.</li>\n<li>Does it have any unlocalized strings?</li>\n<li>Make sure the CL doesn\u2019t have any magic numbers, specifically for UI implementation.</li>\n<li>Font, color should be declared at a generic place for\u00a0reuse.</li>\n<li>Coding convention style: spacing rules, break new lines rules, comment, naming convention (uppercase, camel case, snake\u00a0case)</li>\n<li>Avoid force cast and unwrap optional value. Make sure no implicitly unwrapped optional exclamation mark appears\u00a0<strong>!</strong>\n</li>\n</ul>\n<p><strong>10 minutes\u00a0\ud83d\ude01</strong></p>\n<ul>\n<li>Does the CL miss any [weak self] or [unowned self], which can cause a retain\u00a0cycle?</li>\n<li>Does the CL include any nested ternary condition, multiple level of if-else, switch case,\u00a0loop?</li>\n<li>Does any if-else implementation missing else case? Reviewers should ask questions to make sure that is the author\u2019s intention.</li>\n<li>Avoid public IBOutlet, IBAction just in case of author intention.</li>\n<li>Avoid updating layout constraints when the UI component is hidden/shown. Please use stack view\u00a0instead.</li>\n<li>Ask the author for a few screenshots if there are huge UI\u00a0changes.</li>\n</ul>\n<p><strong>15 minutes\u00a0\ud83d\ude0d</strong></p>\n<ul>\n<li>Does the CL follow a single responsibility principle? Any class or function should have only one\u00a0duty.</li>\n<li>Is the CL able to extract into a small and pure function?</li>\n<li>Is the CL \u201ctoo complex\u201d or \u201cover-engineering\u201d?</li>\n</ul>\n<blockquote>\u201cToo complex\u201d usually means <strong>\u201ccan\u2019t be understood quickly by code readers.\u201d</strong> It can also mean <strong>\u201cdevelopers are likely to introduce bugs when they try to call or modify this\u00a0code.\u201d</strong>\n</blockquote>\n<blockquote>A particular type of complexity is <strong>over-engineering</strong>, where developers have made the code more generic than it needs to be, or added functionality that isn\u2019t presently needed by the system. Reviewers should be especially vigilant about over-engineering.</blockquote>\n<blockquote>Encourage developers to solve the problem they know needs to be solved <em>now</em>, not the problem that the developer speculates <em>might</em> need to be solved in the future. The future problem should be solved once it arrives and you can see its actual shape and requirements in the physical universe.</blockquote>\n<blockquote>\u2014 Google\u2019s Engineering Practices \u2014</blockquote>\n<ul>\n<li>Does CL follow project architecture (MVVM, VIPER, RIB,\u00a0\u2026)?</li>\n<li>Does CL locate in the right place: main codebase, library, or any specific\u00a0module?</li>\n<li>Does the CL have a common dependency that was already implemented before?</li>\n</ul>\n<p><strong>20 minutes \ud83d\ude18 (author may buy you a coffee\u00a0\u2615\ufe0f)</strong></p>\n<ul>\n<li>Double check if business logic is implemented correctly.</li>\n<li>Does CL have any race conditions such as asynchronous events in a\u00a0loop?</li>\n<li>RxSwift: Do any errors bind to a\u00a0relay?</li>\n<li>RxSwift: Does <strong>dispose bag</strong> deallocated before subscriber trigger?</li>\n<li>RxSwift: Does <strong>dispose bag</strong> re-initialize when cell prepare for reuse\u00a0trigger?</li>\n<li>RxSwift: Is the UI implementation subscribed on the Main Scheduler? Try to use Driver\u00a0instead.</li>\n<li>RxSwift: Does Observable subscribe many\u00a0times?</li>\n</ul>\n<h3>Conclusion</h3>\n<p>According to the time you have (while waiting for Xcode indexing, Carthage update, pod install \u23f3), you can help others improve code health by going through the checklist above.</p>\n<p>Code review is one of the opportunities to learn skills from each\u00a0other.</p>\n<p>Be kind in comments, don\u2019t make the author upset\u00a0\ud83d\ude2d.</p>\n<blockquote>There is no such thing as \u201cperfect\u201d code\u200a\u2014\u200athere is only better code. Reviewers should not require the author to polish every tiny piece of a CL before granting approval. Rather, the reviewer should balance out the need to make forward progress compared to the importance of the changes they are suggesting.</blockquote>\n<blockquote>Instead of seeking perfection, what a reviewer should seek is continuous improvement. A CL that, as a whole, improves the maintainability, readability, and understandability of the system shouldn\u2019t be delayed for days or weeks because it isn\u2019t \u201cperfect.\u201d</blockquote>\n<blockquote>\u2014 Google\u2019s Engineering Practices \u2014</blockquote>\n<p><strong>Read more from\u00a0here</strong></p>\n<ul>\n<li><a href=\"https://google.github.io/eng-practices/review/reviewer/speed.html\">Speed of code\u00a0review</a></li>\n<li><a href=\"https://google.github.io/eng-practices/review/reviewer/comments.html\">How to write code review\u00a0comments</a></li>\n</ul>\n<img src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=88a152adcc9f\" width=\"1\" height=\"1\" alt=\"\"><hr>\n<p><a href=\"https://medium.com/ne-digital/ios-code-review-practices-88a152adcc9f\">iOS: Code review practices</a> was originally published in <a href=\"https://medium.com/ne-digital\">NE Digital</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>\n","content":"\n<p>I am pleased to share a list of concerns we should care about when doing a code review in iOS. Hope it gives you a direct approach and is helpful in software development.</p>\n<figure><img alt=\"By Markus Winkler from unsplash.com\" src=\"https://cdn-images-1.medium.com/max/1024/1*uTy1EUq4kDO8yeXXKn7DCw.jpeg\"><figcaption>Photo by Markus Winkler on unsplash.com</figcaption></figure><p>As software engineers, we create pull requests and process code review daily. But sometimes because of workload, meeting or deadline we didn\u2019t review code properly.</p>\n<p>Have you\u00a0ever\u2026</p>\n<ul>\n<li>Felt upset because no one reviewed your pull\u00a0request?</li>\n<li>Felt frustrated because reviewers require to polish every tiny piece of a change list before granting approval?</li>\n<li>Felt lazy while seeing a big pull request of your colleagues that need you to\u00a0review?</li>\n<li>Approved a pull request automatically without reading complex\u00a0changes?</li>\n</ul>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/508/1*bly1xqj_P4RudQSNEdsdjQ.jpeg\"></figure><p>Some useful abbreviations in this\u00a0article:</p>\n<ul>\n<li>Change List:\u00a0CL</li>\n<li>Continuous Integration: CI</li>\n<li>Pull Request:\u00a0PR</li>\n<li>User Interface: UI</li>\n</ul>\n<p>According to <a href=\"https://google.github.io/eng-practices/review/\">Google\u2019s Engineering Practices</a>, we have a list that code review should look\u00a0at:</p>\n<ul>\n<li>\n<strong>Design</strong>: Is the code well-designed and appropriate for your\u00a0system?</li>\n<li>\n<strong>Functionality</strong>: Does the code behave as the author likely intended? Is the way the code behaves good for its\u00a0users?</li>\n<li>\n<strong>Complexity</strong>: Could the code be made simpler? Would another developer be able to easily understand and use this code when they come across it in the\u00a0future?</li>\n<li>\n<strong>Tests</strong>: Does the code have correct and well-designed automated tests?</li>\n<li>\n<strong>Naming</strong>: Did the developer choose clear names for variables, classes, methods,\u00a0etc.?</li>\n<li>\n<strong>Comments</strong>: Are the comments clear and\u00a0useful?</li>\n<li>\n<strong>Style</strong>: Does the code follow our style\u00a0guide?</li>\n<li>\n<strong>Documentation</strong>: Did the developer also update relevant documentation?</li>\n</ul>\n<h3>Code review time spending vs appreciate level\u00a0\ud83d\ude0a</h3>\n<p>By collecting from the internet and my own experience, I would like to share some practices of the code review process in developing software products. I try to list code review steps based on how much time we have for reviewing code.</p>\n<h3>If you\u00a0have</h3>\n<p><strong>5 minutes\u00a0\ud83d\udc4d</strong></p>\n<ul>\n<li>Check CI build report if it has any errors or failed test\u00a0cases?</li>\n<li>Check SonarCloud (if available) scan report if it has any code smells, duplications, enough unit test coverage?</li>\n<li>Unused code, comment code should be\u00a0removed.</li>\n<li>Does it have any unlocalized strings?</li>\n<li>Make sure the CL doesn\u2019t have any magic numbers, specifically for UI implementation.</li>\n<li>Font, color should be declared at a generic place for\u00a0reuse.</li>\n<li>Coding convention style: spacing rules, break new lines rules, comment, naming convention (uppercase, camel case, snake\u00a0case)</li>\n<li>Avoid force cast and unwrap optional value. Make sure no implicitly unwrapped optional exclamation mark appears\u00a0<strong>!</strong>\n</li>\n</ul>\n<p><strong>10 minutes\u00a0\ud83d\ude01</strong></p>\n<ul>\n<li>Does the CL miss any [weak self] or [unowned self], which can cause a retain\u00a0cycle?</li>\n<li>Does the CL include any nested ternary condition, multiple level of if-else, switch case,\u00a0loop?</li>\n<li>Does any if-else implementation missing else case? Reviewers should ask questions to make sure that is the author\u2019s intention.</li>\n<li>Avoid public IBOutlet, IBAction just in case of author intention.</li>\n<li>Avoid updating layout constraints when the UI component is hidden/shown. Please use stack view\u00a0instead.</li>\n<li>Ask the author for a few screenshots if there are huge UI\u00a0changes.</li>\n</ul>\n<p><strong>15 minutes\u00a0\ud83d\ude0d</strong></p>\n<ul>\n<li>Does the CL follow a single responsibility principle? Any class or function should have only one\u00a0duty.</li>\n<li>Is the CL able to extract into a small and pure function?</li>\n<li>Is the CL \u201ctoo complex\u201d or \u201cover-engineering\u201d?</li>\n</ul>\n<blockquote>\u201cToo complex\u201d usually means <strong>\u201ccan\u2019t be understood quickly by code readers.\u201d</strong> It can also mean <strong>\u201cdevelopers are likely to introduce bugs when they try to call or modify this\u00a0code.\u201d</strong>\n</blockquote>\n<blockquote>A particular type of complexity is <strong>over-engineering</strong>, where developers have made the code more generic than it needs to be, or added functionality that isn\u2019t presently needed by the system. Reviewers should be especially vigilant about over-engineering.</blockquote>\n<blockquote>Encourage developers to solve the problem they know needs to be solved <em>now</em>, not the problem that the developer speculates <em>might</em> need to be solved in the future. The future problem should be solved once it arrives and you can see its actual shape and requirements in the physical universe.</blockquote>\n<blockquote>\u2014 Google\u2019s Engineering Practices \u2014</blockquote>\n<ul>\n<li>Does CL follow project architecture (MVVM, VIPER, RIB,\u00a0\u2026)?</li>\n<li>Does CL locate in the right place: main codebase, library, or any specific\u00a0module?</li>\n<li>Does the CL have a common dependency that was already implemented before?</li>\n</ul>\n<p><strong>20 minutes \ud83d\ude18 (author may buy you a coffee\u00a0\u2615\ufe0f)</strong></p>\n<ul>\n<li>Double check if business logic is implemented correctly.</li>\n<li>Does CL have any race conditions such as asynchronous events in a\u00a0loop?</li>\n<li>RxSwift: Do any errors bind to a\u00a0relay?</li>\n<li>RxSwift: Does <strong>dispose bag</strong> deallocated before subscriber trigger?</li>\n<li>RxSwift: Does <strong>dispose bag</strong> re-initialize when cell prepare for reuse\u00a0trigger?</li>\n<li>RxSwift: Is the UI implementation subscribed on the Main Scheduler? Try to use Driver\u00a0instead.</li>\n<li>RxSwift: Does Observable subscribe many\u00a0times?</li>\n</ul>\n<h3>Conclusion</h3>\n<p>According to the time you have (while waiting for Xcode indexing, Carthage update, pod install \u23f3), you can help others improve code health by going through the checklist above.</p>\n<p>Code review is one of the opportunities to learn skills from each\u00a0other.</p>\n<p>Be kind in comments, don\u2019t make the author upset\u00a0\ud83d\ude2d.</p>\n<blockquote>There is no such thing as \u201cperfect\u201d code\u200a\u2014\u200athere is only better code. Reviewers should not require the author to polish every tiny piece of a CL before granting approval. Rather, the reviewer should balance out the need to make forward progress compared to the importance of the changes they are suggesting.</blockquote>\n<blockquote>Instead of seeking perfection, what a reviewer should seek is continuous improvement. A CL that, as a whole, improves the maintainability, readability, and understandability of the system shouldn\u2019t be delayed for days or weeks because it isn\u2019t \u201cperfect.\u201d</blockquote>\n<blockquote>\u2014 Google\u2019s Engineering Practices \u2014</blockquote>\n<p><strong>Read more from\u00a0here</strong></p>\n<ul>\n<li><a href=\"https://google.github.io/eng-practices/review/reviewer/speed.html\">Speed of code\u00a0review</a></li>\n<li><a href=\"https://google.github.io/eng-practices/review/reviewer/comments.html\">How to write code review\u00a0comments</a></li>\n</ul>\n<img src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=88a152adcc9f\" width=\"1\" height=\"1\" alt=\"\"><hr>\n<p><a href=\"https://medium.com/ne-digital/ios-code-review-practices-88a152adcc9f\">iOS: Code review practices</a> was originally published in <a href=\"https://medium.com/ne-digital\">NE Digital</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>\n","enclosure":{},"categories":["ios","swift","practice","programming","code-review"]},{"title":"iOS: How to implement a dynamic position of TabBar handled by RxFlow","pubDate":"2020-12-28 03:22:35","link":"https://medium.com/ne-digital/ios-how-to-implement-a-dynamic-position-of-tabbar-handled-by-rxflow-5038ee15c997?source=rss-d848f27a4265------2","guid":"https://medium.com/p/5038ee15c997","author":"Ngo Minh Tri","thumbnail":"https://cdn-images-1.medium.com/max/1024/1*WVcDWl_FDtvZ3SWX-GqKEw.jpeg","description":"\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*WVcDWl_FDtvZ3SWX-GqKEw.jpeg\"></figure><h3>Introduction</h3>\n<p>As an iOS developer, I believe that you once implemented TabBar, including UITabBarController &amp; UITabBarItem which usually appears at the bottom of an app screen and provides the ability to switch between different sections\u00a0quickly.</p>\n<p>There are many ways to navigate between each tab: UIStoryboard with Segue or do it programmatically. My team is using RxFlow as a navigation framework for iOS applications. For those who haven\u2019t hear about it, you can check out the link\u00a0below:</p>\n<p><a href=\"https://medium.com/@thibault.wittemberg/rxflow-part-1-in-theory-c049cc25a2f7\">RxFlow Part 1: In\u00a0Theory</a></p>\n<p>I will tell you about the refactoring process to handle the current static TabBar position into a dynamic TabBar position. The requirements come separately from Product Manager (PM), so I will split the story into three\u00a0parts.</p>\n<ul>\n<li>\n<strong>Part 1:</strong> Describe the legacy code that implements static TabBar position.</li>\n<li>\n<strong>Part 2:</strong> Add one more\u00a0tab.</li>\n<li>\n<strong>Part 3:</strong> Make TabBar position dynamic by control via Remote\u00a0Config.</li>\n</ul>\n<h3>The story</h3>\n<p><strong>Part 1: Describe the legacy code that implements static TabBar position.</strong></p>\n<p>When I first come and touch on this piece of code, previous developers already apply RxFlow to implement navigation between three tabs: Profile, Payment,\u00a0Address.</p>\n<p><strong>Notes:</strong> I try to illustrate the story and simplify the code by creating a demo\u00a0project.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/576/1*_A72sXHr0jwTDPtlhndROQ.png\"></figure><p>As you see, there are three folders: Address, Payment, Profile which contain Flow, Step, and ViewController files. AccountViewController is an UITabBarViewController. The main logic that controls TabBar position is in AccountFlow.</p>\n<a href=\"https://medium.com/media/c8b8702496a41d32441f2a593e1eed41/href\">https://medium.com/media/c8b8702496a41d32441f2a593e1eed41/href</a><p>Above is a private function of AccountFlow, so what it\u00a0does?</p>\n<ul>\n<li>1: Initial children\u00a0flow.</li>\n<li>2: Trigger block executable when three flows are\u00a0ready.</li>\n<li>3: Create tab bar items with titles and\u00a0images.</li>\n<li>4: Set view controllers to UITabBarController.</li>\n<li>5: Return a whole FlowContributors with presentable and stepper instance.</li>\n</ul>\n<p>Then, we use openWithoutDigitalClub(). Below is the overview how the code looks\u00a0like.</p>\n<a href=\"https://medium.com/media/110bcfaf81141dce27ce7752f5d427e8/href\">https://medium.com/media/110bcfaf81141dce27ce7752f5d427e8/href</a><a href=\"https://medium.com/media/19eb4e889710c7ddb92b81214b3f6165/href\">https://medium.com/media/19eb4e889710c7ddb92b81214b3f6165/href</a><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/750/1*30nYFrH2xitCLx_I5cMTTA.png\"><figcaption>A screen shot of\u00a0result</figcaption></figure><p><strong>Part 2: Add one more\u00a0tab</strong></p>\n<blockquote>\n<strong>PM:</strong> I want to add one more Digital Club tab at 4th position. It only appears when users are membership, otherwise hide it and keep three\u00a0tabs.</blockquote>\n<blockquote>\n<strong>Me:</strong> How does the application know that the user is membership?</blockquote>\n<blockquote>\n<strong>PM:</strong> Basically, back-end service responds a boolean variable isMembership what controls the TabBar show/hide the 4th Digital Club\u00a0tab.</blockquote>\n<blockquote>\n<strong>Me:</strong> Hmm\u2026 not so difficult. It will take me 6\u00a0hours.</blockquote>\n<p>This is what I\u00a0did:</p>\n<p><strong>1\ufe0f\u20e3 </strong>Add one more case in AccountStep enum</p>\n<a href=\"https://medium.com/media/6242ea620ff6ff0080322e430997a77c/href\">https://medium.com/media/6242ea620ff6ff0080322e430997a77c/href</a><p>2\ufe0f\u20e3 I cloned whole method openWithoutDigitalClub()\u00a0, rename it to openWithDigitalClub()\u00a0, add 1 more tab at 4th position.</p>\n<a href=\"https://medium.com/media/1d6858099679d32717f25f4277b7b605/href\">https://medium.com/media/1d6858099679d32717f25f4277b7b605/href</a><p>3\ufe0f\u20e3 Then, I use openWithDigitalClub() in navigate(to step:\u00a0Step)</p>\n<a href=\"https://medium.com/media/4601868b8fb07cc09009f4de08642500/href\">https://medium.com/media/4601868b8fb07cc09009f4de08642500/href</a><p><strong>\u2753Question:</strong> How to switch between\u00a0steps?</p>\n<p><em>From AccountViewController, I conform Stepper protocol. It provides a PublishRelay what I can update a specific step based on non-membership or membership users\u2019\u00a0logic.</em></p>\n<a href=\"https://medium.com/media/c38b4c04a09c554b3dab6457575c5bac/href\">https://medium.com/media/c38b4c04a09c554b3dab6457575c5bac/href</a><p>Above, I decided to open\u00a0.digitalClub as an initial step. In case membership or non-membership is a response from your API service, you definitely can do as\u00a0below:</p>\n<a href=\"https://medium.com/media/d4de566ff26097bd053fb3caf319104b/href\">https://medium.com/media/d4de566ff26097bd053fb3caf319104b/href</a><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/579/1*BFWrU-BKmVXK8NTpA-MfJQ.png\"><figcaption>The result with 4\u00a0tabs</figcaption></figure><p>Done, it is pretty easy, but do you recognise a duplicate code \ud83e\udd14. Hmmm\u2026 let\u2019s wait till the end. I\u2019ll refactor\u00a0it.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/600/1*95fvhIb1o0CI888wbnrGIg.png\"></figure><p><strong>Part 3: Make TabBar position dynamic by control via Remote\u00a0Config.</strong></p>\n<p>Another requirement came\u00a0in.</p>\n<blockquote>\n<strong>PM:</strong> I want to move theDigital Club tab to the 2nd position.</blockquote>\n<blockquote>\n<strong>Me:</strong> Yes, it\u2019s easy. I only update the position of the\u00a0item.</blockquote>\n<blockquote>\n<strong>PM:</strong> So next time, if I want to move Digital Club back to the 4th position, you need to update and release another version to App\u00a0Store?</blockquote>\n<blockquote>\n<strong>Me:</strong> Of course,\u00a0sir!</blockquote>\n<blockquote>\n<strong>PM:</strong> Hmmm\u2026 could you please make it configurable?</blockquote>\n<blockquote>\n<strong>Me:</strong> What do you mean configurable?</blockquote>\n<blockquote>\n<strong>PM:</strong> Make the position of the four tabs as remote config, then in future, whenever I want to change positions, I go and update\u00a0myself.</blockquote>\n<blockquote>\n<strong>Me:</strong> Oh man, it takes much more effort than only move Digital Club to 2nd position. Let me\u00a0think!</blockquote>\n<p>After a few brainstorming minutes, I remember what I learned from Data Structure &amp; Algorithm subject. Is it possible to do a Key-Value mapping instead of using an array for TabBar? I ask myself. Eureka, I got a solution\u00a0\ud83d\ude4c.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/780/1*IPeW7PlGwPNwBjRVcD3L2A.png\"></figure><p>I decide to move to Dictionary (a Key-Value data structure in Swift, as similar as HashMap in Java). Let do\u00a0it!</p>\n<p>1\ufe0f\u20e3 I create a TabKey enum to declare all cases of tab\u00a0items.</p>\n<a href=\"https://medium.com/media/dca3c47e25bdb634b6724bc8604f2c33/href\">https://medium.com/media/dca3c47e25bdb634b6724bc8604f2c33/href</a><p>And, I create a TabValue struct to store properties: UITabBarItem, Flow and\u00a0Stepper.</p>\n<a href=\"https://medium.com/media/b1ffc2aabc0807a0e92fcc676f71db82/href\">https://medium.com/media/b1ffc2aabc0807a0e92fcc676f71db82/href</a><p>2\ufe0f\u20e3 I write a method that prepare a dictionary [TabKey\u00a0: TabValue]</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*uZQNNWunL1CMWhb08pHTfA.png\"></figure><a href=\"https://medium.com/media/ec1a3b1e553f1b4cc135f650312f0fd6/href\">https://medium.com/media/ec1a3b1e553f1b4cc135f650312f0fd6/href</a><ul>\n<li>1: Create all UITabBarItem with title and\u00a0image</li>\n<li>2: Create all tab\u2019s\u00a0flow</li>\n<li>3: Create a dictionary of [TabKey\u00a0: TabValue]</li>\n</ul>\n<p>3\ufe0f\u20e3 I create TabOutput struct to store [UITabBarItem], [Flow], [FlowContributor]</p>\n<a href=\"https://medium.com/media/ff9fa6d3be1cef4921a64d3588972799/href\">https://medium.com/media/ff9fa6d3be1cef4921a64d3588972799/href</a><p>4\ufe0f\u20e3 I will do a lookup based on TabKey and get according TabValue. Then I do a mapping from TabValue to TabOutput.</p>\n<a href=\"https://medium.com/media/579710b67cac0f1768eb2c6876f91c13/href\">https://medium.com/media/579710b67cac0f1768eb2c6876f91c13/href</a><p>We will create another method with input is an array of TabKey what can be a response of API service or a Remote\u00a0Config.</p>\n<a href=\"https://medium.com/media/d0bd1eb543735ce8b993b243b0783643/href\">https://medium.com/media/d0bd1eb543735ce8b993b243b0783643/href</a><p>From here, the position of TabBar items will be reflected in the index of TabKey\u2019s\u00a0array.</p>\n<a href=\"https://medium.com/media/58e400d14e050015abfe41f2758735f7/href\">https://medium.com/media/58e400d14e050015abfe41f2758735f7/href</a><h3>Conclusion</h3>\n<p>There are many approaches to complete the task. I just want to share my own story of how I begin, deal with the requirements and make the code better at the end. Feel free to share your\u00a0thought.</p>\n<p>Thanks <a href=\"https://medium.com/u/9f845daade61\">Li Hao</a> for inspired me. Thanks <a href=\"https://medium.com/u/f892b62fdea6\">Steve Dao</a> for your\u00a0advices.</p>\n<p>Thanks all for reading until here. Happy coding and stay safe\u00a0\ud83c\udf40</p>\n<img src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=5038ee15c997\" width=\"1\" height=\"1\" alt=\"\"><hr>\n<p><a href=\"https://medium.com/ne-digital/ios-how-to-implement-a-dynamic-position-of-tabbar-handled-by-rxflow-5038ee15c997\">iOS: How to implement a dynamic position of TabBar handled by RxFlow</a> was originally published in <a href=\"https://medium.com/ne-digital\">NE Digital</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>\n","content":"\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*WVcDWl_FDtvZ3SWX-GqKEw.jpeg\"></figure><h3>Introduction</h3>\n<p>As an iOS developer, I believe that you once implemented TabBar, including UITabBarController &amp; UITabBarItem which usually appears at the bottom of an app screen and provides the ability to switch between different sections\u00a0quickly.</p>\n<p>There are many ways to navigate between each tab: UIStoryboard with Segue or do it programmatically. My team is using RxFlow as a navigation framework for iOS applications. For those who haven\u2019t hear about it, you can check out the link\u00a0below:</p>\n<p><a href=\"https://medium.com/@thibault.wittemberg/rxflow-part-1-in-theory-c049cc25a2f7\">RxFlow Part 1: In\u00a0Theory</a></p>\n<p>I will tell you about the refactoring process to handle the current static TabBar position into a dynamic TabBar position. The requirements come separately from Product Manager (PM), so I will split the story into three\u00a0parts.</p>\n<ul>\n<li>\n<strong>Part 1:</strong> Describe the legacy code that implements static TabBar position.</li>\n<li>\n<strong>Part 2:</strong> Add one more\u00a0tab.</li>\n<li>\n<strong>Part 3:</strong> Make TabBar position dynamic by control via Remote\u00a0Config.</li>\n</ul>\n<h3>The story</h3>\n<p><strong>Part 1: Describe the legacy code that implements static TabBar position.</strong></p>\n<p>When I first come and touch on this piece of code, previous developers already apply RxFlow to implement navigation between three tabs: Profile, Payment,\u00a0Address.</p>\n<p><strong>Notes:</strong> I try to illustrate the story and simplify the code by creating a demo\u00a0project.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/576/1*_A72sXHr0jwTDPtlhndROQ.png\"></figure><p>As you see, there are three folders: Address, Payment, Profile which contain Flow, Step, and ViewController files. AccountViewController is an UITabBarViewController. The main logic that controls TabBar position is in AccountFlow.</p>\n<a href=\"https://medium.com/media/c8b8702496a41d32441f2a593e1eed41/href\">https://medium.com/media/c8b8702496a41d32441f2a593e1eed41/href</a><p>Above is a private function of AccountFlow, so what it\u00a0does?</p>\n<ul>\n<li>1: Initial children\u00a0flow.</li>\n<li>2: Trigger block executable when three flows are\u00a0ready.</li>\n<li>3: Create tab bar items with titles and\u00a0images.</li>\n<li>4: Set view controllers to UITabBarController.</li>\n<li>5: Return a whole FlowContributors with presentable and stepper instance.</li>\n</ul>\n<p>Then, we use openWithoutDigitalClub(). Below is the overview how the code looks\u00a0like.</p>\n<a href=\"https://medium.com/media/110bcfaf81141dce27ce7752f5d427e8/href\">https://medium.com/media/110bcfaf81141dce27ce7752f5d427e8/href</a><a href=\"https://medium.com/media/19eb4e889710c7ddb92b81214b3f6165/href\">https://medium.com/media/19eb4e889710c7ddb92b81214b3f6165/href</a><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/750/1*30nYFrH2xitCLx_I5cMTTA.png\"><figcaption>A screen shot of\u00a0result</figcaption></figure><p><strong>Part 2: Add one more\u00a0tab</strong></p>\n<blockquote>\n<strong>PM:</strong> I want to add one more Digital Club tab at 4th position. It only appears when users are membership, otherwise hide it and keep three\u00a0tabs.</blockquote>\n<blockquote>\n<strong>Me:</strong> How does the application know that the user is membership?</blockquote>\n<blockquote>\n<strong>PM:</strong> Basically, back-end service responds a boolean variable isMembership what controls the TabBar show/hide the 4th Digital Club\u00a0tab.</blockquote>\n<blockquote>\n<strong>Me:</strong> Hmm\u2026 not so difficult. It will take me 6\u00a0hours.</blockquote>\n<p>This is what I\u00a0did:</p>\n<p><strong>1\ufe0f\u20e3 </strong>Add one more case in AccountStep enum</p>\n<a href=\"https://medium.com/media/6242ea620ff6ff0080322e430997a77c/href\">https://medium.com/media/6242ea620ff6ff0080322e430997a77c/href</a><p>2\ufe0f\u20e3 I cloned whole method openWithoutDigitalClub()\u00a0, rename it to openWithDigitalClub()\u00a0, add 1 more tab at 4th position.</p>\n<a href=\"https://medium.com/media/1d6858099679d32717f25f4277b7b605/href\">https://medium.com/media/1d6858099679d32717f25f4277b7b605/href</a><p>3\ufe0f\u20e3 Then, I use openWithDigitalClub() in navigate(to step:\u00a0Step)</p>\n<a href=\"https://medium.com/media/4601868b8fb07cc09009f4de08642500/href\">https://medium.com/media/4601868b8fb07cc09009f4de08642500/href</a><p><strong>\u2753Question:</strong> How to switch between\u00a0steps?</p>\n<p><em>From AccountViewController, I conform Stepper protocol. It provides a PublishRelay what I can update a specific step based on non-membership or membership users\u2019\u00a0logic.</em></p>\n<a href=\"https://medium.com/media/c38b4c04a09c554b3dab6457575c5bac/href\">https://medium.com/media/c38b4c04a09c554b3dab6457575c5bac/href</a><p>Above, I decided to open\u00a0.digitalClub as an initial step. In case membership or non-membership is a response from your API service, you definitely can do as\u00a0below:</p>\n<a href=\"https://medium.com/media/d4de566ff26097bd053fb3caf319104b/href\">https://medium.com/media/d4de566ff26097bd053fb3caf319104b/href</a><figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/579/1*BFWrU-BKmVXK8NTpA-MfJQ.png\"><figcaption>The result with 4\u00a0tabs</figcaption></figure><p>Done, it is pretty easy, but do you recognise a duplicate code \ud83e\udd14. Hmmm\u2026 let\u2019s wait till the end. I\u2019ll refactor\u00a0it.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/600/1*95fvhIb1o0CI888wbnrGIg.png\"></figure><p><strong>Part 3: Make TabBar position dynamic by control via Remote\u00a0Config.</strong></p>\n<p>Another requirement came\u00a0in.</p>\n<blockquote>\n<strong>PM:</strong> I want to move theDigital Club tab to the 2nd position.</blockquote>\n<blockquote>\n<strong>Me:</strong> Yes, it\u2019s easy. I only update the position of the\u00a0item.</blockquote>\n<blockquote>\n<strong>PM:</strong> So next time, if I want to move Digital Club back to the 4th position, you need to update and release another version to App\u00a0Store?</blockquote>\n<blockquote>\n<strong>Me:</strong> Of course,\u00a0sir!</blockquote>\n<blockquote>\n<strong>PM:</strong> Hmmm\u2026 could you please make it configurable?</blockquote>\n<blockquote>\n<strong>Me:</strong> What do you mean configurable?</blockquote>\n<blockquote>\n<strong>PM:</strong> Make the position of the four tabs as remote config, then in future, whenever I want to change positions, I go and update\u00a0myself.</blockquote>\n<blockquote>\n<strong>Me:</strong> Oh man, it takes much more effort than only move Digital Club to 2nd position. Let me\u00a0think!</blockquote>\n<p>After a few brainstorming minutes, I remember what I learned from Data Structure &amp; Algorithm subject. Is it possible to do a Key-Value mapping instead of using an array for TabBar? I ask myself. Eureka, I got a solution\u00a0\ud83d\ude4c.</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/780/1*IPeW7PlGwPNwBjRVcD3L2A.png\"></figure><p>I decide to move to Dictionary (a Key-Value data structure in Swift, as similar as HashMap in Java). Let do\u00a0it!</p>\n<p>1\ufe0f\u20e3 I create a TabKey enum to declare all cases of tab\u00a0items.</p>\n<a href=\"https://medium.com/media/dca3c47e25bdb634b6724bc8604f2c33/href\">https://medium.com/media/dca3c47e25bdb634b6724bc8604f2c33/href</a><p>And, I create a TabValue struct to store properties: UITabBarItem, Flow and\u00a0Stepper.</p>\n<a href=\"https://medium.com/media/b1ffc2aabc0807a0e92fcc676f71db82/href\">https://medium.com/media/b1ffc2aabc0807a0e92fcc676f71db82/href</a><p>2\ufe0f\u20e3 I write a method that prepare a dictionary [TabKey\u00a0: TabValue]</p>\n<figure><img alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*uZQNNWunL1CMWhb08pHTfA.png\"></figure><a href=\"https://medium.com/media/ec1a3b1e553f1b4cc135f650312f0fd6/href\">https://medium.com/media/ec1a3b1e553f1b4cc135f650312f0fd6/href</a><ul>\n<li>1: Create all UITabBarItem with title and\u00a0image</li>\n<li>2: Create all tab\u2019s\u00a0flow</li>\n<li>3: Create a dictionary of [TabKey\u00a0: TabValue]</li>\n</ul>\n<p>3\ufe0f\u20e3 I create TabOutput struct to store [UITabBarItem], [Flow], [FlowContributor]</p>\n<a href=\"https://medium.com/media/ff9fa6d3be1cef4921a64d3588972799/href\">https://medium.com/media/ff9fa6d3be1cef4921a64d3588972799/href</a><p>4\ufe0f\u20e3 I will do a lookup based on TabKey and get according TabValue. Then I do a mapping from TabValue to TabOutput.</p>\n<a href=\"https://medium.com/media/579710b67cac0f1768eb2c6876f91c13/href\">https://medium.com/media/579710b67cac0f1768eb2c6876f91c13/href</a><p>We will create another method with input is an array of TabKey what can be a response of API service or a Remote\u00a0Config.</p>\n<a href=\"https://medium.com/media/d0bd1eb543735ce8b993b243b0783643/href\">https://medium.com/media/d0bd1eb543735ce8b993b243b0783643/href</a><p>From here, the position of TabBar items will be reflected in the index of TabKey\u2019s\u00a0array.</p>\n<a href=\"https://medium.com/media/58e400d14e050015abfe41f2758735f7/href\">https://medium.com/media/58e400d14e050015abfe41f2758735f7/href</a><h3>Conclusion</h3>\n<p>There are many approaches to complete the task. I just want to share my own story of how I begin, deal with the requirements and make the code better at the end. Feel free to share your\u00a0thought.</p>\n<p>Thanks <a href=\"https://medium.com/u/9f845daade61\">Li Hao</a> for inspired me. Thanks <a href=\"https://medium.com/u/f892b62fdea6\">Steve Dao</a> for your\u00a0advices.</p>\n<p>Thanks all for reading until here. Happy coding and stay safe\u00a0\ud83c\udf40</p>\n<img src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=5038ee15c997\" width=\"1\" height=\"1\" alt=\"\"><hr>\n<p><a href=\"https://medium.com/ne-digital/ios-how-to-implement-a-dynamic-position-of-tabbar-handled-by-rxflow-5038ee15c997\">iOS: How to implement a dynamic position of TabBar handled by RxFlow</a> was originally published in <a href=\"https://medium.com/ne-digital\">NE Digital</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>\n","enclosure":{},"categories":["refactoring","tab-bar","rxflow","ios"]}]}